import{o as i,c as p,t as m,f as r,a as e,d as t,e as n}from"./index-BocJKbjX.js";import{_ as k}from"./Mdtitle-Cm-JCLVO.js";import{b as l}from"./route-block-B_A1xBdJ.js";const y={key:0,class:"text-body-secondary"},h={__name:"FunctionUpdate",props:["date"],setup(o){const a=o;return(s,u)=>a.date?(i(),p("p",y,"Add: "+m(Date.parse(a.date).toString("MMMM dS, yyyy")),1)):r("",!0)}},f={class:"markdown-body"},b=t("h3",{id:"%E6%98%8E%E4%BA%AE%E6%9A%97%E9%BB%91%E6%A8%A1%E5%BC%8F%E5%88%87%E6%8D%A2",tabindex:"-1"},[t("a",{class:"header-anchor",href:"#%E6%98%8E%E4%BA%AE%E6%9A%97%E9%BB%91%E6%A8%A1%E5%BC%8F%E5%88%87%E6%8D%A2"},"#"),n(" 明亮暗黑模式切换")],-1),g=t("h4",{id:"%E6%95%88%E6%9E%9C",tabindex:"-1"},[t("a",{class:"header-anchor",href:"#%E6%95%88%E6%9E%9C"},"#"),n(" 效果")],-1),v=t("p",null,"点击页头的图标切换明亮与暗黑模式",-1),E=t("h4",{id:"ideas",tabindex:"-1"},[t("a",{class:"header-anchor",href:"#ideas"},"#"),n(" ideas")],-1),C=t("p",null,"  首先，项目使用了bootstrap5.3 也是我坚持使用的；而，markdown-it插件我引入了github markdown css 样式类，因此需要解决bs与gh css之于暗黑模式切换时的冲突问题。考虑，用到的md语法不多，就索性全部使用BS的样式主题。并且，gh的暗黑也太黑了😄 ~ 不舒服！",-1),_=t("p",null,"  经过少许样式调整，整体效果已出；可在本站操作试一试呢~",-1),A=t("p",null,"  下面，开始介绍一下自己的处理。",-1),x=t("ol",null,[t("li",null,"在html头文件已引入bootstrap5和github markdown css 的CDN资源：")],-1),w=t("pre",{class:"language-html"},[t("code",{class:"language-html"},[t("span",{class:"token comment"},"<!-- use bootstrap -->"),n(`
`),t("span",{class:"token tag"},[t("span",{class:"token tag"},[t("span",{class:"token punctuation"},"<"),n("link")]),n(),t("span",{class:"token attr-name"},"href"),t("span",{class:"token attr-value"},[t("span",{class:"token punctuation attr-equals"},"="),t("span",{class:"token punctuation"},'"'),n("https://cdn.bootcdn.net/ajax/libs/twitter-bootstrap/5.3.1/css/bootstrap.min.css"),t("span",{class:"token punctuation"},'"')]),n(),t("span",{class:"token attr-name"},"rel"),t("span",{class:"token attr-value"},[t("span",{class:"token punctuation attr-equals"},"="),t("span",{class:"token punctuation"},'"'),n("stylesheet"),t("span",{class:"token punctuation"},'"')]),t("span",{class:"token punctuation"},">")]),n(`
`),t("span",{class:"token comment"},"<!-- github markdown css -->"),n(`
`),t("span",{class:"token tag"},[t("span",{class:"token tag"},[t("span",{class:"token punctuation"},"<"),n("link")]),n(),t("span",{class:"token attr-name"},"href"),t("span",{class:"token attr-value"},[t("span",{class:"token punctuation attr-equals"},"="),t("span",{class:"token punctuation"},'"'),n("https://cdn.bootcdn.net/ajax/libs/github-markdown-css/5.2.0/github-markdown.min.css"),t("span",{class:"token punctuation"},'"')]),n(),t("span",{class:"token attr-name"},"rel"),t("span",{class:"token attr-value"},[t("span",{class:"token punctuation attr-equals"},"="),t("span",{class:"token punctuation"},'"'),n("stylesheet"),t("span",{class:"token punctuation"},'"')]),t("span",{class:"token punctuation"},">")]),n(`
`)]),t("div",{class:"m-mdic-copy-wrapper"},[t("div",{class:"u-mdic-copy-notify",id:"j-notify-1722570617586-35749"},"copy success"),t("button",{class:"u-mdic-copy-btn j-mdic-copy-btn","data-mdic-content":`<!-- use bootstrap -->
<link href="https://cdn.bootcdn.net/ajax/libs/twitter-bootstrap/5.3.1/css/bootstrap.min.css" rel="stylesheet">
<!-- github markdown css -->
<link href="https://cdn.bootcdn.net/ajax/libs/github-markdown-css/5.2.0/github-markdown.min.css" rel="stylesheet">
`,"data-mdic-attach-content":"","data-mdic-notify-id":"j-notify-1722570617586-35749","data-mdic-notify-delay":"2000","data-mdic-copy-fail-text":"copy fail",onclick:"!function(t){const e={copy:(t='',e='')=>new Promise((c,o)=>{const n=document.createElement('textarea'),d=e?`\\n\\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand('copy');document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&&t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=>{n.style.display='block',setTimeout(()=>{n.style.display='none'},d)}).catch(()=>{alert(i)})}};e.btnClick(t)}(this);"},"copy")])],-1),B=t("ol",null,[t("li",null,[t("p",null,"处理bs的颜色切换"),t("p",null,"html头部加入bs的颜色属性：")])],-1),I=t("pre",{class:"language-html"},[t("code",{class:"language-html"},[t("span",{class:"token tag"},[t("span",{class:"token tag"},[t("span",{class:"token punctuation"},"<"),n("html")]),n(),t("span",{class:"token attr-name"},"lang"),t("span",{class:"token attr-value"},[t("span",{class:"token punctuation attr-equals"},"="),t("span",{class:"token punctuation"},'"'),n("en"),t("span",{class:"token punctuation"},'"')]),n(),t("span",{class:"token attr-name"},"data-bs-theme"),t("span",{class:"token attr-value"},[t("span",{class:"token punctuation attr-equals"},"="),t("span",{class:"token punctuation"},'"'),n("light"),t("span",{class:"token punctuation"},'"')]),t("span",{class:"token punctuation"},">")]),n(`
`)]),t("div",{class:"m-mdic-copy-wrapper"},[t("div",{class:"u-mdic-copy-notify",id:"j-notify-1722570617587-19088"},"copy success"),t("button",{class:"u-mdic-copy-btn j-mdic-copy-btn","data-mdic-content":`<html lang="en" data-bs-theme="light">
`,"data-mdic-attach-content":"","data-mdic-notify-id":"j-notify-1722570617587-19088","data-mdic-notify-delay":"2000","data-mdic-copy-fail-text":"copy fail",onclick:"!function(t){const e={copy:(t='',e='')=>new Promise((c,o)=>{const n=document.createElement('textarea'),d=e?`\\n\\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand('copy');document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&&t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=>{n.style.display='block',setTimeout(()=>{n.style.display='none'},d)}).catch(()=>{alert(i)})}};e.btnClick(t)}(this);"},"copy")])],-1),j=t("p",null,"main.js内初始化localsorage，给一个item, 设置一个存取key 用于处理颜色切换",-1),$=t("pre",{class:"language-js"},[t("code",{class:"language-js"},[t("span",{class:"token comment"},"// bootstrap color mod"),n(`
`),t("span",{class:"token keyword"},"const"),n(" theme "),t("span",{class:"token operator"},"="),n(" localStorage"),t("span",{class:"token punctuation"},"."),t("span",{class:"token function"},"getItem"),t("span",{class:"token punctuation"},"("),t("span",{class:"token string"},"'theme'"),t("span",{class:"token punctuation"},")"),n(`
`),t("span",{class:"token keyword"},"if"),n(),t("span",{class:"token punctuation"},"("),n("theme"),t("span",{class:"token punctuation"},")"),t("span",{class:"token punctuation"},"{"),n(`
    document`),t("span",{class:"token punctuation"},"."),n("documentElement"),t("span",{class:"token punctuation"},"."),t("span",{class:"token function"},"setAttribute"),t("span",{class:"token punctuation"},"("),t("span",{class:"token string"},"'data-bs-theme'"),t("span",{class:"token punctuation"},","),n(" theme"),t("span",{class:"token punctuation"},")"),n(`
`),t("span",{class:"token punctuation"},"}"),n(),t("span",{class:"token keyword"},"else"),n(),t("span",{class:"token punctuation"},"{"),n(`
    localStorage`),t("span",{class:"token punctuation"},"."),t("span",{class:"token function"},"setItem"),t("span",{class:"token punctuation"},"("),t("span",{class:"token string"},"'theme'"),t("span",{class:"token punctuation"},","),n(),t("span",{class:"token string"},"'light'"),t("span",{class:"token punctuation"},")"),n(`
    document`),t("span",{class:"token punctuation"},"."),n("documentElement"),t("span",{class:"token punctuation"},"."),t("span",{class:"token function"},"setAttribute"),t("span",{class:"token punctuation"},"("),t("span",{class:"token string"},"'data-bs-theme'"),t("span",{class:"token punctuation"},","),n(),t("span",{class:"token string"},"'light'"),t("span",{class:"token punctuation"},")"),n(`
`),t("span",{class:"token punctuation"},"}"),n(`
`)]),t("div",{class:"m-mdic-copy-wrapper"},[t("div",{class:"u-mdic-copy-notify",id:"j-notify-1722570617587-11166"},"copy success"),t("button",{class:"u-mdic-copy-btn j-mdic-copy-btn","data-mdic-content":`// bootstrap color mod
const theme = localStorage.getItem('theme')
if (theme){
    document.documentElement.setAttribute('data-bs-theme', theme)
} else {
    localStorage.setItem('theme', 'light')
    document.documentElement.setAttribute('data-bs-theme', 'light')
}
`,"data-mdic-attach-content":"","data-mdic-notify-id":"j-notify-1722570617587-11166","data-mdic-notify-delay":"2000","data-mdic-copy-fail-text":"copy fail",onclick:"!function(t){const e={copy:(t='',e='')=>new Promise((c,o)=>{const n=document.createElement('textarea'),d=e?`\\n\\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand('copy');document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&&t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=>{n.style.display='block',setTimeout(()=>{n.style.display='none'},d)}).catch(()=>{alert(i)})}};e.btnClick(t)}(this);"},"copy")])],-1),T=t("ol",null,[t("li",null,"在Header组件内的切换按钮内添加处理逻辑，需要做3件事情： a，读取当前ls的color theme value b, 判断并更改当前bs html头部的颜色主题值并切换按钮图标 c, 更新的值存储到ls")],-1),D=t("pre",{class:"language-js"},[t("code",{class:"language-js"},[t("span",{class:"token keyword"},"const"),n(" themeIcon "),t("span",{class:"token operator"},"="),n(),t("span",{class:"token function"},"ref"),t("span",{class:"token punctuation"},"("),t("span",{class:"token string"},"''"),t("span",{class:"token punctuation"},")"),n(`

`),t("span",{class:"token function"},"onMounted"),t("span",{class:"token punctuation"},"("),t("span",{class:"token punctuation"},"("),t("span",{class:"token punctuation"},")"),n(),t("span",{class:"token operator"},"=>"),n(),t("span",{class:"token punctuation"},"{"),n(`
  themeIcon`),t("span",{class:"token punctuation"},"."),n("value "),t("span",{class:"token operator"},"="),n(" localStorage"),t("span",{class:"token punctuation"},"."),t("span",{class:"token function"},"getItem"),t("span",{class:"token punctuation"},"("),t("span",{class:"token string"},"'theme'"),t("span",{class:"token punctuation"},")"),n(`
`),t("span",{class:"token punctuation"},"}"),t("span",{class:"token punctuation"},")"),n(`

`),t("span",{class:"token keyword"},"const"),n(),t("span",{class:"token function-variable function"},"switchColorMod"),n(),t("span",{class:"token operator"},"="),n(),t("span",{class:"token punctuation"},"("),t("span",{class:"token punctuation"},")"),n(),t("span",{class:"token operator"},"=>"),n(),t("span",{class:"token punctuation"},"{"),n(`
  `),t("span",{class:"token keyword"},"const"),n(" storedTheme "),t("span",{class:"token operator"},"="),n(" localStorage"),t("span",{class:"token punctuation"},"."),t("span",{class:"token function"},"getItem"),t("span",{class:"token punctuation"},"("),t("span",{class:"token string"},"'theme'"),t("span",{class:"token punctuation"},")"),n(`

  `),t("span",{class:"token keyword"},"if"),n(),t("span",{class:"token punctuation"},"("),n("storedTheme "),t("span",{class:"token operator"},"==="),n(),t("span",{class:"token string"},"'light'"),t("span",{class:"token punctuation"},")"),n(),t("span",{class:"token punctuation"},"{"),n(`
    document`),t("span",{class:"token punctuation"},"."),n("documentElement"),t("span",{class:"token punctuation"},"."),t("span",{class:"token function"},"setAttribute"),t("span",{class:"token punctuation"},"("),t("span",{class:"token string"},"'data-bs-theme'"),t("span",{class:"token punctuation"},","),n(),t("span",{class:"token string"},"'dark'"),t("span",{class:"token punctuation"},")"),n(`
    themeIcon`),t("span",{class:"token punctuation"},"."),n("value "),t("span",{class:"token operator"},"="),n(),t("span",{class:"token string"},"'dark'"),n(`
    localStorage`),t("span",{class:"token punctuation"},"."),t("span",{class:"token function"},"setItem"),t("span",{class:"token punctuation"},"("),t("span",{class:"token string"},"'theme'"),t("span",{class:"token punctuation"},","),n(),t("span",{class:"token string"},"'dark'"),t("span",{class:"token punctuation"},")"),n(`
  `),t("span",{class:"token punctuation"},"}"),n(),t("span",{class:"token keyword"},"else"),n(),t("span",{class:"token punctuation"},"{"),n(`
    document`),t("span",{class:"token punctuation"},"."),n("documentElement"),t("span",{class:"token punctuation"},"."),t("span",{class:"token function"},"setAttribute"),t("span",{class:"token punctuation"},"("),t("span",{class:"token string"},"'data-bs-theme'"),t("span",{class:"token punctuation"},","),n(),t("span",{class:"token string"},"'light'"),t("span",{class:"token punctuation"},")"),n(`
    themeIcon`),t("span",{class:"token punctuation"},"."),n("value "),t("span",{class:"token operator"},"="),n(),t("span",{class:"token string"},"'light'"),n(`
    localStorage`),t("span",{class:"token punctuation"},"."),t("span",{class:"token function"},"setItem"),t("span",{class:"token punctuation"},"("),t("span",{class:"token string"},"'theme'"),t("span",{class:"token punctuation"},","),n(),t("span",{class:"token string"},"'light'"),t("span",{class:"token punctuation"},")"),n(`
  `),t("span",{class:"token punctuation"},"}"),n(`
`),t("span",{class:"token punctuation"},"}"),n(`
`)]),t("div",{class:"m-mdic-copy-wrapper"},[t("div",{class:"u-mdic-copy-notify",id:"j-notify-1722570617587-51723"},"copy success"),t("button",{class:"u-mdic-copy-btn j-mdic-copy-btn","data-mdic-content":`const themeIcon = ref('')

onMounted(() => {
  themeIcon.value = localStorage.getItem('theme')
})

const switchColorMod = () => {
  const storedTheme = localStorage.getItem('theme')

  if (storedTheme === 'light') {
    document.documentElement.setAttribute('data-bs-theme', 'dark')
    themeIcon.value = 'dark'
    localStorage.setItem('theme', 'dark')
  } else {
    document.documentElement.setAttribute('data-bs-theme', 'light')
    themeIcon.value = 'light'
    localStorage.setItem('theme', 'light')
  }
}
`,"data-mdic-attach-content":"","data-mdic-notify-id":"j-notify-1722570617587-51723","data-mdic-notify-delay":"2000","data-mdic-copy-fail-text":"copy fail",onclick:"!function(t){const e={copy:(t='',e='')=>new Promise((c,o)=>{const n=document.createElement('textarea'),d=e?`\\n\\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand('copy');document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&&t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=>{n.style.display='block',setTimeout(()=>{n.style.display='none'},d)}).catch(()=>{alert(i)})}};e.btnClick(t)}(this);"},"copy")])],-1),q=t("ol",{start:"2"},[t("li",null,[n("解决bs与gh md css 的样式冲突"),t("br"),n(" markdown-it使用的是markdown-body类名包裹，需要覆盖此类里面的部分css变量达到与bs的样式一致")])],-1),N=t("pre",{class:"language-css"},[t("code",{class:"language-css"},[t("span",{class:"token comment"},"/* 这里更改markdown 文档配色与 bs 一致 */"),n(`
`),t("span",{class:"token selector"},".markdown-body"),n(),t("span",{class:"token punctuation"},"{"),n(`
  `),t("span",{class:"token comment"},"/* 跟随bs */"),n(`
  `),t("span",{class:"token property"},"--color-accent-fg"),t("span",{class:"token punctuation"},":"),n(),t("span",{class:"token function"},"var"),t("span",{class:"token punctuation"},"("),n("--bs-body-color"),t("span",{class:"token punctuation"},")"),t("span",{class:"token punctuation"},";"),n(`
  `),t("span",{class:"token comment"},"/* 跟随bs */"),n(`
  `),t("span",{class:"token property"},"--color-fg-default"),t("span",{class:"token punctuation"},":"),n(),t("span",{class:"token function"},"var"),t("span",{class:"token punctuation"},"("),n("--bs-body-color"),t("span",{class:"token punctuation"},")"),t("span",{class:"token punctuation"},";"),n(`
  `),t("span",{class:"token comment"},"/* 影响表格背景色 这里继承自文档 跟随bs */"),n(`
  `),t("span",{class:"token property"},"--color-canvas-default"),t("span",{class:"token punctuation"},":"),n(" inherit"),t("span",{class:"token punctuation"},";"),n(`
  `),t("span",{class:"token comment"},"/* 影响表格颜色subtle色 */"),n(`
  `),t("span",{class:"token property"},"--color-canvas-subtle"),t("span",{class:"token punctuation"},":"),n(),t("span",{class:"token function"},"var"),t("span",{class:"token punctuation"},"("),n("--bs-light-bg-subtle"),t("span",{class:"token punctuation"},")"),t("span",{class:"token punctuation"},";"),n(`
`),t("span",{class:"token punctuation"},"}"),n(`

`),t("span",{class:"token comment"},"/* md 内图片使用了bs img-thumbnail 样式类, 当设置了dark color方才设置图片背景白色 */"),n(`
`),t("span",{class:"token atrule"},[t("span",{class:"token rule"},"@supports"),n(),t("span",{class:"token function"},"selector"),t("span",{class:"token punctuation"},"("),t("span",{class:"token selector-function-argument selector"},'[data-bs-theme = "dark"]'),t("span",{class:"token punctuation"},")")]),n(),t("span",{class:"token punctuation"},"{"),n(`
  `),t("span",{class:"token selector"},".img-thumbnail"),n(),t("span",{class:"token punctuation"},"{"),n(`
    `),t("span",{class:"token property"},"background-color"),t("span",{class:"token punctuation"},":"),n(" #ffffff "),t("span",{class:"token important"},"!important"),t("span",{class:"token punctuation"},";"),n(`
  `),t("span",{class:"token punctuation"},"}"),n(`
`),t("span",{class:"token punctuation"},"}"),n(`
`)]),t("div",{class:"m-mdic-copy-wrapper"},[t("div",{class:"u-mdic-copy-notify",id:"j-notify-1722570617588-70"},"copy success"),t("button",{class:"u-mdic-copy-btn j-mdic-copy-btn","data-mdic-content":`/* 这里更改markdown 文档配色与 bs 一致 */
.markdown-body {
  /* 跟随bs */
  --color-accent-fg: var(--bs-body-color);
  /* 跟随bs */
  --color-fg-default: var(--bs-body-color);
  /* 影响表格背景色 这里继承自文档 跟随bs */
  --color-canvas-default: inherit;
  /* 影响表格颜色subtle色 */
  --color-canvas-subtle: var(--bs-light-bg-subtle);
}

/* md 内图片使用了bs img-thumbnail 样式类, 当设置了dark color方才设置图片背景白色 */
@supports selector([data-bs-theme = "dark"]) {
  .img-thumbnail {
    background-color: #ffffff !important;
  }
}
`,"data-mdic-attach-content":"","data-mdic-notify-id":"j-notify-1722570617588-70","data-mdic-notify-delay":"2000","data-mdic-copy-fail-text":"copy fail",onclick:"!function(t){const e={copy:(t='',e='')=>new Promise((c,o)=>{const n=document.createElement('textarea'),d=e?`\\n\\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand('copy');document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&&t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=>{n.style.display='block',setTimeout(()=>{n.style.display='none'},d)}).catch(()=>{alert(i)})}};e.btnClick(t)}(this);"},"copy")])],-1),F=t("p",null,"上面的css代码我直接写在了index.html里面。代码仅处理了本站点目前使用的md标记元素的样式，如果使用了更多的标记，需要查看样式再具体更改相关的代码。另外，需要注意的是代码最后面部分中我对于图片样式的处理；这里，由于我md里面的图片直接使用了bs的图片样式类，并且我的图片用来Png背景透明，如果在明亮模式还好；暗黑模式的话，图片根本看不清楚！因此，这里我考虑使用了css规则约束当暗黑模式时，设置图片背景为白色~ 这样的话，看起来效果就还可以哦~",-1),S=t("h3",{id:"%E5%93%8D%E5%BA%94%E5%BC%8F%E5%B8%83%E5%B1%80%E6%A0%B7%E5%BC%8F%E4%BF%AE%E5%A4%8D",tabindex:"-1"},[t("a",{class:"header-anchor",href:"#%E5%93%8D%E5%BA%94%E5%BC%8F%E5%B8%83%E5%B1%80%E6%A0%B7%E5%BC%8F%E4%BF%AE%E5%A4%8D"},"#"),n(" 响应式布局样式修复")],-1),P=t("p",null,"MD文章布局响应式（修复移动端显示问题）",-1),M=t("pre",{class:"language-html"},[t("code",{class:"language-html"},[t("span",{class:"token comment"},"<!-- article content -->"),n(`
`),t("span",{class:"token tag"},[t("span",{class:"token tag"},[t("span",{class:"token punctuation"},"<"),n("div")]),n(),t("span",{class:"token attr-name"},"class"),t("span",{class:"token attr-value"},[t("span",{class:"token punctuation attr-equals"},"="),t("span",{class:"token punctuation"},'"'),n("container d-flex justify-content-start"),t("span",{class:"token punctuation"},'"')]),t("span",{class:"token punctuation"},">")]),n(`
    `),t("span",{class:"token tag"},[t("span",{class:"token tag"},[t("span",{class:"token punctuation"},"<"),n("div")]),n(),t("span",{class:"token attr-name"},"class"),t("span",{class:"token attr-value"},[t("span",{class:"token punctuation attr-equals"},"="),t("span",{class:"token punctuation"},'"'),n("col-md-3 col-sm-0"),t("span",{class:"token punctuation"},'"')]),n(),t("span",{class:"token attr-name"},"@mouseenter"),t("span",{class:"token attr-value"},[t("span",{class:"token punctuation attr-equals"},"="),t("span",{class:"token punctuation"},'"'),n("showPageIoc"),t("span",{class:"token punctuation"},'"')]),n(),t("span",{class:"token attr-name"},"@mouseleave"),t("span",{class:"token attr-value"},[t("span",{class:"token punctuation attr-equals"},"="),t("span",{class:"token punctuation"},'"'),n("unshowPageIoc"),t("span",{class:"token punctuation"},'"')]),t("span",{class:"token punctuation"},">")]),n(`
        `),t("span",{class:"token tag"},[t("span",{class:"token tag"},[t("span",{class:"token punctuation"},"<"),n("div")]),n(),t("span",{class:"token attr-name"},"class"),t("span",{class:"token attr-value"},[t("span",{class:"token punctuation attr-equals"},"="),t("span",{class:"token punctuation"},'"'),n("ms-3-md"),t("span",{class:"token punctuation"},'"')]),t("span",{class:"token punctuation"},">")]),n(`
            `),t("span",{class:"token tag"},[t("span",{class:"token tag"},[t("span",{class:"token punctuation"},"<"),n("TableOfContents")]),n(),t("span",{class:"token attr-name"},":toc"),t("span",{class:"token attr-value"},[t("span",{class:"token punctuation attr-equals"},"="),t("span",{class:"token punctuation"},'"'),n("useRouter().currentRoute.value.meta.toc"),t("span",{class:"token punctuation"},'"')]),n(),t("span",{class:"token attr-name"},"ref"),t("span",{class:"token attr-value"},[t("span",{class:"token punctuation attr-equals"},"="),t("span",{class:"token punctuation"},'"'),n("ioc"),t("span",{class:"token punctuation"},'"')]),n(),t("span",{class:"token punctuation"},"/>")]),n(`
        `),t("span",{class:"token tag"},[t("span",{class:"token tag"},[t("span",{class:"token punctuation"},"</"),n("div")]),t("span",{class:"token punctuation"},">")]),n(`            
    `),t("span",{class:"token tag"},[t("span",{class:"token tag"},[t("span",{class:"token punctuation"},"</"),n("div")]),t("span",{class:"token punctuation"},">")]),n(`

    `),t("span",{class:"token tag"},[t("span",{class:"token tag"},[t("span",{class:"token punctuation"},"<"),n("div")]),n(),t("span",{class:"token attr-name"},"class"),t("span",{class:"token attr-value"},[t("span",{class:"token punctuation attr-equals"},"="),t("span",{class:"token punctuation"},'"'),n("d-flex flex-column justify-content-start col-md-8 col-sm-12 col-12 animate__animated animate__fadeIn animate__slow"),t("span",{class:"token punctuation"},'"')]),t("span",{class:"token punctuation"},">")]),n(`
        `),t("span",{class:"token tag"},[t("span",{class:"token tag"},[t("span",{class:"token punctuation"},"<"),n("div")]),n(),t("span",{class:"token special-attr"},[t("span",{class:"token attr-name"},"style"),t("span",{class:"token attr-value"},[t("span",{class:"token punctuation attr-equals"},"="),t("span",{class:"token punctuation"},'"'),t("span",{class:"token value css language-css"},[t("span",{class:"token property"},"height"),t("span",{class:"token punctuation"},":"),n(" 10vh"),t("span",{class:"token punctuation"},";")]),t("span",{class:"token punctuation"},'"')])]),t("span",{class:"token punctuation"},">")]),t("span",{class:"token tag"},[t("span",{class:"token tag"},[t("span",{class:"token punctuation"},"</"),n("div")]),t("span",{class:"token punctuation"},">")]),n(`
        `),t("span",{class:"token tag"},[t("span",{class:"token tag"},[t("span",{class:"token punctuation"},"<"),n("RouterView")]),n(),t("span",{class:"token punctuation"},"/>")]),n(`
    `),t("span",{class:"token tag"},[t("span",{class:"token tag"},[t("span",{class:"token punctuation"},"</"),n("div")]),t("span",{class:"token punctuation"},">")]),n(`

    `),t("span",{class:"token comment"},'<!-- <div class="col-md-1 col-sm-0"></div> -->'),n(`
`),t("span",{class:"token tag"},[t("span",{class:"token tag"},[t("span",{class:"token punctuation"},"</"),n("div")]),t("span",{class:"token punctuation"},">")]),n(`
`)]),t("div",{class:"m-mdic-copy-wrapper"},[t("div",{class:"u-mdic-copy-notify",id:"j-notify-1722570617591-937"},"copy success"),t("button",{class:"u-mdic-copy-btn j-mdic-copy-btn","data-mdic-content":`<!-- article content -->
<div class="container d-flex justify-content-start">
    <div class="col-md-3 col-sm-0" @mouseenter="showPageIoc" @mouseleave="unshowPageIoc">
        <div class="ms-3-md">
            <TableOfContents :toc="useRouter().currentRoute.value.meta.toc" ref="ioc" />
        </div>            
    </div>

    <div class="d-flex flex-column justify-content-start col-md-8 col-sm-12 col-12 animate__animated animate__fadeIn animate__slow">
        <div style="height: 10vh;"></div>
        <RouterView />
    </div>

    <!-- <div class="col-md-1 col-sm-0"></div> -->
</div>
`,"data-mdic-attach-content":"","data-mdic-notify-id":"j-notify-1722570617591-937","data-mdic-notify-delay":"2000","data-mdic-copy-fail-text":"copy fail",onclick:"!function(t){const e={copy:(t='',e='')=>new Promise((c,o)=>{const n=document.createElement('textarea'),d=e?`\\n\\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand('copy');document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&&t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=>{n.style.display='block',setTimeout(()=>{n.style.display='none'},d)}).catch(()=>{alert(i)})}};e.btnClick(t)}(this);"},"copy")])],-1),R=t("h3",{id:"%E6%96%87%E7%AB%A0%E6%A0%87%E9%A2%98%E5%8C%85%E5%90%AB%E7%A9%BA%E6%A0%BC%E7%9A%84%E9%94%9A%E7%82%B9%E5%AF%BC%E8%88%AA",tabindex:"-1"},[t("a",{class:"header-anchor",href:"#%E6%96%87%E7%AB%A0%E6%A0%87%E9%A2%98%E5%8C%85%E5%90%AB%E7%A9%BA%E6%A0%BC%E7%9A%84%E9%94%9A%E7%82%B9%E5%AF%BC%E8%88%AA"},"#"),n(" 文章标题包含空格的锚点导航")],-1),V=t("h4",{id:"%E5%AE%89%E8%A3%85%E6%89%A9%E5%B1%95",tabindex:"-1"},[t("a",{class:"header-anchor",href:"#%E5%AE%89%E8%A3%85%E6%89%A9%E5%B1%95"},"#"),n(" 安装扩展")],-1),O=t("p",null,[t("a",{href:"https://mdit-plugins.github.io/attrs.html"},"扩展插件功能原文")],-1),U=t("p",null,"安装markdown-it扩展: @mdit/plugin-attrs",-1),H=t("pre",{class:"language-js"},[t("code",{class:"language-js"},[n("npm i "),t("span",{class:"token operator"},"-"),t("span",{class:"token constant"},"D"),n(" @mdit"),t("span",{class:"token operator"},"/"),n("plugin"),t("span",{class:"token operator"},"-"),n(`attrs
`)]),t("div",{class:"m-mdic-copy-wrapper"},[t("div",{class:"u-mdic-copy-notify",id:"j-notify-1722570617592-21959"},"copy success"),t("button",{class:"u-mdic-copy-btn j-mdic-copy-btn","data-mdic-content":`npm i -D @mdit/plugin-attrs
`,"data-mdic-attach-content":"","data-mdic-notify-id":"j-notify-1722570617592-21959","data-mdic-notify-delay":"2000","data-mdic-copy-fail-text":"copy fail",onclick:"!function(t){const e={copy:(t='',e='')=>new Promise((c,o)=>{const n=document.createElement('textarea'),d=e?`\\n\\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand('copy');document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&&t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=>{n.style.display='block',setTimeout(()=>{n.style.display='none'},d)}).catch(()=>{alert(i)})}};e.btnClick(t)}(this);"},"copy")])],-1),z=t("p",null,"vite.config.js 导入",-1),G=t("pre",{class:"language-js"},[t("code",{class:"language-js"},[t("span",{class:"token keyword"},"import"),n(),t("span",{class:"token punctuation"},"{"),n(" attrs "),t("span",{class:"token punctuation"},"}"),n(),t("span",{class:"token keyword"},"from"),n(),t("span",{class:"token string"},'"@mdit/plugin-attrs"'),n(`
`)]),t("div",{class:"m-mdic-copy-wrapper"},[t("div",{class:"u-mdic-copy-notify",id:"j-notify-1722570617592-92308"},"copy success"),t("button",{class:"u-mdic-copy-btn j-mdic-copy-btn","data-mdic-content":`import { attrs } from "@mdit/plugin-attrs"
`,"data-mdic-attach-content":"","data-mdic-notify-id":"j-notify-1722570617592-92308","data-mdic-notify-delay":"2000","data-mdic-copy-fail-text":"copy fail",onclick:"!function(t){const e={copy:(t='',e='')=>new Promise((c,o)=>{const n=document.createElement('textarea'),d=e?`\\n\\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand('copy');document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&&t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=>{n.style.display='block',setTimeout(()=>{n.style.display='none'},d)}).catch(()=>{alert(i)})}};e.btnClick(t)}(this);"},"copy")])],-1),J=t("p",null,"配置markdown-it插件:",-1),K=t("p",null,"md.use(attrs)",-1),L=t("h4",{id:"%E6%96%87%E7%AB%A0%E6%A0%87%E9%A2%98%E4%BD%BF%E7%94%A8%E5%B1%9E%E6%80%A7id",tabindex:"-1"},[t("a",{class:"header-anchor",href:"#%E6%96%87%E7%AB%A0%E6%A0%87%E9%A2%98%E4%BD%BF%E7%94%A8%E5%B1%9E%E6%80%A7id"},"#"),n(" 文章标题使用属性ID")],-1),Q=t("p",null,"书写包含空格的head 后面定义真实的锚点ID名",-1),W=t("pre",{class:"language-html"},[t("code",{class:"language-html"},`#### Router process flow {#Router-process-flow}
`),t("div",{class:"m-mdic-copy-wrapper"},[t("div",{class:"u-mdic-copy-notify",id:"j-notify-1722570617592-44846"},"copy success"),t("button",{class:"u-mdic-copy-btn j-mdic-copy-btn","data-mdic-content":`#### Router process flow {#Router-process-flow}
`,"data-mdic-attach-content":"","data-mdic-notify-id":"j-notify-1722570617592-44846","data-mdic-notify-delay":"2000","data-mdic-copy-fail-text":"copy fail",onclick:"!function(t){const e={copy:(t='',e='')=>new Promise((c,o)=>{const n=document.createElement('textarea'),d=e?`\\n\\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand('copy');document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&&t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=>{n.style.display='block',setTimeout(()=>{n.style.display='none'},d)}).catch(()=>{alert(i)})}};e.btnClick(t)}(this);"},"copy")])],-1),X=t("h3",{id:"%E5%85%B6%E4%BB%96%E9%97%AE%E9%A2%98",tabindex:"-1"},[t("a",{class:"header-anchor",href:"#%E5%85%B6%E4%BB%96%E9%97%AE%E9%A2%98"},"#"),n(" 其他问题")],-1),Y=t("p",null,"由于自制了TOC，想要toc内包含空格的title, 需要在点击目录时额外处理一下路由，将路中hash 后的空格替换为中横线。",-1),Z=t("p",null,"以下代码，是本站toc导航的href处理；将anchor（含有空格的）空格替换为‘-’ 中横线",-1),tt=t("pre",{class:"language-html"},[t("code",{class:"language-html"},[t("span",{class:"token tag"},[t("span",{class:"token tag"},[t("span",{class:"token punctuation"},"<"),n("li")]),n(),t("span",{class:"token attr-name"},"class"),t("span",{class:"token attr-value"},[t("span",{class:"token punctuation attr-equals"},"="),t("span",{class:"token punctuation"},'"'),n("nav-item"),t("span",{class:"token punctuation"},'"')]),n(),t("span",{class:"token attr-name"},"v-for"),t("span",{class:"token attr-value"},[t("span",{class:"token punctuation attr-equals"},"="),t("span",{class:"token punctuation"},'"'),n("item in props.toc"),t("span",{class:"token punctuation"},'"')]),n(),t("span",{class:"token attr-name"},":key"),t("span",{class:"token attr-value"},[t("span",{class:"token punctuation attr-equals"},"="),t("span",{class:"token punctuation"},'"'),n("item"),t("span",{class:"token punctuation"},'"')]),t("span",{class:"token punctuation"},">")]),n(`
    `),t("span",{class:"token tag"},[t("span",{class:"token tag"},[t("span",{class:"token punctuation"},"<"),n("a")]),n(),t("span",{class:"token attr-name"},"v-if"),t("span",{class:"token attr-value"},[t("span",{class:"token punctuation attr-equals"},"="),t("span",{class:"token punctuation"},'"'),n("item.parentId == 0"),t("span",{class:"token punctuation"},'"')]),n(),t("span",{class:"token attr-name"},"class"),t("span",{class:"token attr-value"},[t("span",{class:"token punctuation attr-equals"},"="),t("span",{class:"token punctuation"},'"'),n("nav-link active py-1 ps-0"),t("span",{class:"token punctuation"},'"')]),n(),t("span",{class:"token attr-name"},"aria-current"),t("span",{class:"token attr-value"},[t("span",{class:"token punctuation attr-equals"},"="),t("span",{class:"token punctuation"},'"'),n("page"),t("span",{class:"token punctuation"},'"')]),n(` 
      `),t("span",{class:"token attr-name"},":href"),t("span",{class:"token attr-value"},[t("span",{class:"token punctuation attr-equals"},"="),t("span",{class:"token punctuation"},'"'),t("span",{class:"token punctuation"},"'"),n("#' + item.anchor.replaceAll(' ','-')"),t("span",{class:"token punctuation"},'"')]),t("span",{class:"token punctuation"},">")]),n(`
      {{ item.anchor }}
    `),t("span",{class:"token tag"},[t("span",{class:"token tag"},[t("span",{class:"token punctuation"},"</"),n("a")]),t("span",{class:"token punctuation"},">")]),n(`
    `),t("span",{class:"token tag"},[t("span",{class:"token tag"},[t("span",{class:"token punctuation"},"<"),n("a")]),n(),t("span",{class:"token attr-name"},"v-else"),n(),t("span",{class:"token attr-name"},"class"),t("span",{class:"token attr-value"},[t("span",{class:"token punctuation attr-equals"},"="),t("span",{class:"token punctuation"},'"'),n("nav-link active py-1 ps-0 ms-4"),t("span",{class:"token punctuation"},'"')]),n(),t("span",{class:"token attr-name"},"aria-current"),t("span",{class:"token attr-value"},[t("span",{class:"token punctuation attr-equals"},"="),t("span",{class:"token punctuation"},'"'),n("page"),t("span",{class:"token punctuation"},'"')]),n(),t("span",{class:"token attr-name"},":href"),t("span",{class:"token attr-value"},[t("span",{class:"token punctuation attr-equals"},"="),t("span",{class:"token punctuation"},'"'),t("span",{class:"token punctuation"},"'"),n("#' + item.anchor.replaceAll(' ','-')"),t("span",{class:"token punctuation"},'"')]),t("span",{class:"token punctuation"},">")]),n(`
      {{ item.anchor }}
    `),t("span",{class:"token tag"},[t("span",{class:"token tag"},[t("span",{class:"token punctuation"},"</"),n("a")]),t("span",{class:"token punctuation"},">")]),n(`
`),t("span",{class:"token tag"},[t("span",{class:"token tag"},[t("span",{class:"token punctuation"},"</"),n("li")]),t("span",{class:"token punctuation"},">")]),n(`
`)]),t("div",{class:"m-mdic-copy-wrapper"},[t("div",{class:"u-mdic-copy-notify",id:"j-notify-1722570617592-25299"},"copy success"),t("button",{class:"u-mdic-copy-btn j-mdic-copy-btn","data-mdic-content":`<li class="nav-item" v-for="item in props.toc" :key="item">
    <a v-if="item.parentId == 0" class="nav-link active py-1 ps-0" aria-current="page" 
      :href="'#' + item.anchor.replaceAll(' ','-')">
      {{ item.anchor }}
    </a>
    <a v-else class="nav-link active py-1 ps-0 ms-4" aria-current="page" :href="'#' + item.anchor.replaceAll(' ','-')">
      {{ item.anchor }}
    </a>
</li>
`,"data-mdic-attach-content":"","data-mdic-notify-id":"j-notify-1722570617592-25299","data-mdic-notify-delay":"2000","data-mdic-copy-fail-text":"copy fail",onclick:"!function(t){const e={copy:(t='',e='')=>new Promise((c,o)=>{const n=document.createElement('textarea'),d=e?`\\n\\n${e}`:e;n.value=`${t}${d}`,document.body.appendChild(n),n.select();try{const t=document.execCommand('copy');document.body.removeChild(n),t?c():o()}catch(t){document.body.removeChild(n),o()}}),btnClick(t){const c=t&&t.dataset?t.dataset:{},o=c.mdicNotifyId,n=document.getElementById(o),d=c.mdicNotifyDelay,i=c.mdicCopyFailText;e.copy(c.mdicContent,c.mdicAttachContent).then(()=>{n.style.display='block',setTimeout(()=>{n.style.display='none'},d)}).catch(()=>{alert(i)})}};e.btnClick(t)}(this);"},"copy")])],-1),ot="功能更新",lt="2024-02-22",it="2024-02-23",nt={__name:"function-upgrade",setup(o,{expose:a}){const s={title:"功能更新",date:"2024-02-22",update:"2024-02-23"};return a({frontmatter:s}),(u,at)=>{const d=k,c=h;return i(),p("div",f,[e(d,{title:s.title,update:s.update},null,8,["title","update"]),b,e(c,{date:"2024-02-23"}),g,v,E,C,_,A,x,w,B,I,j,$,T,D,q,N,F,S,e(c,{date:"2024-02-23"}),P,M,R,e(c,{date:"2024-02-22"}),V,O,U,H,z,G,J,K,L,Q,W,X,Y,Z,tt])}}};typeof l=="function"&&l(nt);export{lt as date,nt as default,ot as title,it as update};
